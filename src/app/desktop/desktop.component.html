<div id="desktop-surface" (mousedown)="$event.target === surface && windowManager.unfocus()"
     (mousemove)="mousemove($event)" (contextmenu)="showContextMenu($event)" #surface>
  <div *ngFor="let linkage of onDesktop(); index as i" (mousedown)="mousedown($event, i)" (mouseup)="mouseup()"
       (dblclick)="openProgramWindow(linkage)"
       [ngStyle]="{'left.vw': linkage.position.x |Â px2vw, 'top.vh': linkage.position.y |Â px2vh, 'z-index': linkage.position.z }"
       class="linkage">
    <img [src]="linkage.icon" alt=""/>
    {{linkage.displayName}}
  </div>
  <app-window-manager></app-window-manager>
  <app-context-menu *ngIf="contextMenu" #contextmenu [position]="contextMenuPosition"
                    (mouseleave)="hideContextMenu()"></app-context-menu>
</div>
<app-desktop-startmenu *ngIf="startMenu" [parent]="this" [target]="contextMenuTarget"
                       (mouseleave)="hideStartMenu()"></app-desktop-startmenu>
<app-desktop-menu (startMenu)="toggleStartMenu()"></app-desktop-menu>
